<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Partial Differentiation</title>
    <!-- Font Awesome (for icons) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Link to your shared stylesheet -->
    <link rel="stylesheet" href="../assets/styles.css">

    <!-- MathJax configuration -->
    <script type="text/javascript" src="../assets/mathjax_config.js"></script>
    <!-- MathJax library -->
    <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body class="min-h-screen flex flex-col items-center py-8 px-4 sm:px-6 lg:px-8">

    <!-- Navbar Placeholder -->
    <div id="navbar-placeholder"></div>

    <!-- Main Content Container -->
    <div class="content-container">
        <div id="header-placeholder"></div>

        <section class="mb-12">
            <h2 class="text-3xl font-bold section-title mb-6">
                Partial Derivatives
            </h2>
            
            <ol>
                <!-- Question 1 -->
                <li class="mb-8">
                    <p class="question-body-text">For each of the following, find:
                        \[ \pdv{z}{x}, \quad \pdv{z}{y}, \quad \pdv[2]{z}{x}, \quad \pdv[2]{z}{y}, \quad \pdv{z}{x}{y}, \quad \pdv{z}{y}{x} \]
                    </p>
                    <ol type="a" class="list-alpha">
                        <!-- 1a -->
                        <li>
                            <div class="question-block">
                                <p class="question-body-text">\(z=5x+2y\)</p>
                                <div class="solution-container">
                                    <div class="solution-header" onclick="toggleSolution(this)"><span>Show Solution</span><i class="fas fa-chevron-right icon"></i></div>
                                    <div class="solution-content">
                                        $$ \pdv{z}{x} = 5, \quad \pdv{z}{y} = 2 $$
                                        $$ \pdv[2]{z}{x} = 0, \quad \pdv[2]{z}{y} = 0 $$
                                        $$ \pdv{z}{x}{y} = \pdv{z}{y}{x} = 0 $$
                                    </div>
                                </div>
                            </div>
                        </li>
                        <!-- 1b -->
                        <li>
                            <div class="question-block">
                                <p class="question-body-text">\(z=5x^3+3y^2+4\)</p>
                                <div class="solution-container">
                                    <div class="solution-header" onclick="toggleSolution(this)"><span>Show Solution</span><i class="fas fa-chevron-right icon"></i></div>
                                    <div class="solution-content">
                                        $$ \pdv{z}{x} = 15x^2, \quad \pdv{z}{y} = 6y $$
                                        $$ \pdv[2]{z}{x} = 30x, \quad \pdv[2]{z}{y} = 6 $$
                                        $$ \pdv{z}{x}{y} = \pdv{z}{y}{x} = 0 $$
                                    </div>
                                </div>
                            </div>
                        </li>
                        <!-- 1c -->
                        <li>
                            <div class="question-block">
                                <p class="question-body-text">\(z=8xy\)</p>
                                <div class="solution-container">
                                    <div class="solution-header" onclick="toggleSolution(this)"><span>Show Solution</span><i class="fas fa-chevron-right icon"></i></div>
                                    <div class="solution-content">
                                        $$ \pdv{z}{x} = 8y, \quad \pdv{z}{y} = 8x $$
                                        $$ \pdv[2]{z}{x} = 0, \quad \pdv[2]{z}{y} = 0 $$
                                        $$ \pdv{z}{x}{y} = \pdv{z}{y}{x} = 8 $$
                                    </div>
                                </div>
                            </div>
                        </li>
                        <!-- 1d -->
                        <li>
                            <div class="question-block">
                                <p class="question-body-text">\(z=2xy^{0.5}\)</p>
                                <div class="solution-container">
                                    <div class="solution-header" onclick="toggleSolution(this)"><span>Show Solution</span><i class="fas fa-chevron-right icon"></i></div>
                                    <div class="solution-content">
                                        $$ \pdv{z}{x} = 2y^{0.5}, \quad \pdv{z}{y} = xy^{-0.5} $$
                                        $$ \pdv[2]{z}{x} = 0, \quad \pdv[2]{z}{y} = -0.5xy^{-1.5} $$
                                        $$ \pdv{z}{x}{y} = \pdv{z}{y}{x} = y^{-0.5} $$
                                    </div>
                                </div>
                            </div>
                        </li>
                        <!-- 1e -->
                        <li>
                            <div class="question-block">
                                <p class="question-body-text">\(z=e^{2x}+4e^y\)</p>
                                <div class="solution-container">
                                    <div class="solution-header" onclick="toggleSolution(this)"><span>Show Solution</span><i class="fas fa-chevron-right icon"></i></div>
                                    <div class="solution-content">
                                        $$ \pdv{z}{x} = 2e^{2x}, \quad \pdv{z}{y} = 4e^y $$
                                        $$ \pdv[2]{z}{x} = 4e^{2x}, \quad \pdv[2]{z}{y} = 4e^y $$
                                        $$ \pdv{z}{x}{y} = \pdv{z}{y}{x} = 0 $$
                                    </div>
                                </div>
                            </div>
                        </li>
                        <!-- 1f -->
                        <li>
                            <div class="question-block">
                                <p class="question-body-text">\(z=x^2+2xy+y^2\)</p>
                                <div class="solution-container">
                                    <div class="solution-header" onclick="toggleSolution(this)"><span>Show Solution</span><i class="fas fa-chevron-right icon"></i></div>
                                    <div class="solution-content">
                                        $$ \pdv{z}{x} = 2x+2y, \quad \pdv{z}{y} = 2x+2y $$
                                        $$ \pdv[2]{z}{x} = 2, \quad \pdv[2]{z}{y} = 2 $$
                                        $$ \pdv{z}{x}{y} = \pdv{z}{y}{x} = 2 $$
                                    </div>
                                </div>
                            </div>
                        </li>
                        <!-- 1g -->
                        <li>
                            <div class="question-block">
                                <p class="question-body-text">\(z=10x^2y^3-2x-4y\)</p>
                                <div class="solution-container">
                                    <div class="solution-header" onclick="toggleSolution(this)"><span>Show Solution</span><i class="fas fa-chevron-right icon"></i></div>
                                    <div class="solution-content">
                                        $$ \pdv{z}{x} = 20xy^3-2, \quad \pdv{z}{y} = 30x^2y^2-4 $$
                                        $$ \pdv[2]{z}{x} = 20y^3, \quad \pdv[2]{z}{y} = 60x^2y $$
                                        $$ \pdv{z}{x}{y} = \pdv{z}{y}{x} = 60xy^2 $$
                                    </div>
                                </div>
                            </div>
                        </li>
                        <!-- 1h -->
                        <li>
                            <div class="question-block">
                                <p class="question-body-text">\(z=5x^2+2x+5y^3-2y^2\)</p>
                                <div class="solution-container">
                                    <div class="solution-header" onclick="toggleSolution(this)"><span>Show Solution</span><i class="fas fa-chevron-right icon"></i></div>
                                    <div class="solution-content">
                                        $$ \pdv{z}{x} = 10x+2, \quad \pdv{z}{y} = 15y^2-4y $$
                                        $$ \pdv[2]{z}{x} = 10, \quad \pdv[2]{z}{y} = 30y-4 $$
                                        $$ \pdv{z}{x}{y} = \pdv{z}{y}{x} = 0 $$
                                    </div>
                                </div>
                            </div>
                        </li>
                        <!-- 1i -->
                        <li>
                            <div class="question-block">
                                <p class="question-body-text">\(z=10x^4y^3\)</p>
                                <div class="solution-container">
                                    <div class="solution-header" onclick="toggleSolution(this)"><span>Show Solution</span><i class="fas fa-chevron-right icon"></i></div>
                                    <div class="solution-content">
                                        $$ \pdv{z}{x} = 40x^3y^3, \quad \pdv{z}{y} = 30x^4y^2 $$
                                        $$ \pdv[2]{z}{x} = 120x^2y^3, \quad \pdv[2]{z}{y} = 60x^4y $$
                                        $$ \pdv{z}{x}{y} = \pdv{z}{y}{x} = 120x^3y^2 $$
                                    </div>
                                </div>
                            </div>
                        </li>
                        <!-- 1j -->
                        <li>
                            <div class="question-block">
                                <p class="question-body-text">\(z=2e^{5x}-4x^2y^2+\ln{(3xy)}\)</p>
                                <div class="solution-container">
                                    <div class="solution-header" onclick="toggleSolution(this)"><span>Show Solution</span><i class="fas fa-chevron-right icon"></i></div>
                                    <div class="solution-content">
                                        $$ \pdv{z}{x} = 10e^{5x} - 8xy^2 + \frac{1}{x}, \quad \pdv{z}{y} = -8x^2y + \frac{1}{y} $$
                                        $$ \pdv[2]{z}{x} = 50e^{5x} - 8y^2 - \frac{1}{x^2}, \quad \pdv[2]{z}{y} = -8x^2 - \frac{1}{y^2} $$
                                        $$ \pdv{z}{x}{y} = \pdv{z}{y}{x} = -16xy $$
                                    </div>
                                </div>
                            </div>
                        </li>
                        <!-- 1k -->
                        <li>
                            <div class="question-block">
                                <p class="question-body-text">\(z=x^3 \ln{y}\)</p>
                                <div class="solution-container">
                                    <div class="solution-header" onclick="toggleSolution(this)"><span>Show Solution</span><i class="fas fa-chevron-right icon"></i></div>
                                    <div class="solution-content">
                                        $$ \pdv{z}{x} = 3x^2\ln{y}, \quad \pdv{z}{y} = \frac{x^3}{y} $$
                                        $$ \pdv[2]{z}{x} = 6x\ln{y}, \quad \pdv[2]{z}{y} = -\frac{x^3}{y^2} $$
                                        $$ \pdv{z}{x}{y} = \pdv{z}{y}{x} = \frac{3x^2}{y} $$
                                    </div>
                                </div>
                            </div>
                        </li>
                        <!-- 1l -->
                        <li>
                            <div class="question-block">
                                <p class="question-body-text">\(z=y(5-2x)\)</p>
                                <div class="solution-container">
                                    <div class="solution-header" onclick="toggleSolution(this)"><span>Show Solution</span><i class="fas fa-chevron-right icon"></i></div>
                                    <div class="solution-content">
                                        $$ \pdv{z}{x} = -2y, \quad \pdv{z}{y} = 5-2x $$
                                        $$ \pdv[2]{z}{x} = 0, \quad \pdv[2]{z}{y} = 0 $$
                                        $$ \pdv{z}{x}{y} = \pdv{z}{y}{x} = -2 $$
                                    </div>
                                </div>
                            </div>
                        </li>
                        <!-- 1m -->
                        <li>
                            <div class="question-block">
                                <p class="question-body-text">\(z=y(5-2x)^2\)</p>
                                <div class="solution-container">
                                    <div class="solution-header" onclick="toggleSolution(this)"><span>Show Solution</span><i class="fas fa-chevron-right icon"></i></div>
                                    <div class="solution-content">
                                        $$ \pdv{z}{x} = -4y(5-2x), \quad \pdv{z}{y} = (5-2x)^2 $$
                                        $$ \pdv[2]{z}{x} = 8y, \quad \pdv[2]{z}{y} = 0 $$
                                        $$ \pdv{z}{x}{y} = \pdv{z}{y}{x} = -4(5-2x) $$
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ol>
                </li>

                <!-- Question 2 -->
                <li class="mb-8">
                    <div class="question-block">
                        <p class="question-body-text">Given the demand function: \(Q=50-2P+0.5I\), where \(Q\) is quantity demanded, \(P\) is price, and \(I\) is the income level.
                            <ol type="a" class="list-alpha mt-4">
                                <li>Find \(\frac{\partial Q}{\partial P}\) and \(\frac{\partial Q}{\partial I}\).</li>
                                <li>Interpret the meanings of these partial derivatives.</li>
                                <li>Suppose income changes by 100, what is the change in demand?</li>
                            </ol>
                        </p>
                        <div class="solution-container">
                            <div class="solution-header" onclick="toggleSolution(this)"><span>Show Solution</span><i class="fas fa-chevron-right icon"></i></div>
                            <div class="solution-content">
                                <ol type="a" class="list-alpha">
                                    <li>$$ \pdv{Q}{P} = -2, \quad \pdv{Q}{I} = 0.5 $$</li>
                                    <li>\(\pdv{Q}{P} = -2\) means that for every 1 unit increase in price \(P\), quantity demanded \(Q\) decreases by 2 units, holding income constant. <br> \(\pdv{Q}{I} = 0.5\) means that for every 1 unit increase in income \(I\), quantity demanded \(Q\) increases by 0.5 units, holding price constant.</li>
                                    <li>The change in demand is: \( \Delta Q = \pdv{Q}{I} \times \Delta I = 0.5 \times 100 = 50 \). Demand increases by 50 units.</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </li>

                <!-- Question 3 -->
                <li class="mb-8">
                    <div class="question-block">
                        <p class="question-body-text">Given \(Q(L,K)=AL^{\alpha}K^{1-\alpha}\), where \(Q\) is output, \(L\) is labour, and \(K\) is capital.
                            <ol type="a" class="list-alpha mt-4">
                                <li>Find the partial derivatives \(\pdv{Q}{L}\) and \(\pdv{Q}{K}\).</li>
                                <li>Let \(A = 1\) and \(\alpha = 0.3\). Evaluate your expressions at \(L = 10\), \(K = 5\).</li>
                                <li>Repeat for \(L = 20\), \(K = 5\). How does the value of \(\pdv{Q}{L}\) compare to before? Explain your answer using the formula from part (a).</li>
                            </ol>
                        </p>
                        <div class="solution-container">
                            <div class="solution-header" onclick="toggleSolution(this)"><span>Show Solution</span><i class="fas fa-chevron-right icon"></i></div>
                            <div class="solution-content">
                                <ol type="a" class="list-alpha">
                                    <li>$$ \pdv{Q}{L} = A \alpha L^{\alpha - 1} K^{1 - \alpha}, \quad \pdv{Q}{K} = A (1 - \alpha) L^{\alpha} K^{-\alpha} $$</li>
                                    <li>At \(L=10, K=5\):
                                        $$ \pdv{Q}{L} = 1 \cdot 0.3 \cdot 10^{-0.7} \cdot 5^{0.7} \approx 0.185 $$
                                        $$ \pdv{Q}{K} = 1 \cdot 0.7 \cdot 10^{0.3} \cdot 5^{-0.3} \approx 0.862 $$
                                    </li>
                                    <li>At \(L=20, K=5\):
                                        $$ \pdv{Q}{L} = 0.3 \cdot 20^{-0.7} \cdot 5^{0.7} \approx 0.113 $$
                                        The value of \(\pdv{Q}{L}\) (the marginal product of labour) has decreased. This is because the exponent on \(L\) in the formula for \(\pdv{Q}{L}\) is \(\alpha - 1 = -0.7\), which is negative. Therefore, as \(L\) increases, \(L^{\alpha-1}\) decreases, demonstrating the principle of diminishing marginal returns to labour.</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </li>
            </ol>
        </section>

        <section class="mb-12">
            <h2 class="text-3xl font-bold section-title mb-6">
                First Order Conditions
            </h2>
            <ol start="4">
                <!-- Question 4 -->
                <li class="mb-8">
                    <p class="question-body-text">For each of the functions \(f(x,y)\) below, find:
                        <ol type="i" class="list-roman">
                            <li>\(f_x\) and \(f_y\)</li>
                            <li>the values of \(x\), \(y\), and \(f(x,y)\) where both \(f_x=0\) and \(f_y=0\)</li>
                        </ol>
                    </p>
                    <ol type="a" class="list-alpha">
                         <!-- 4a -->
                        <li>
                            <div class="question-block">
                                <p class="question-body-text">\(f(x,y)=x^2+y^2\)</p>
                                <div class="solution-container">
                                    <div class="solution-header" onclick="toggleSolution(this)"><span>Show Solution</span><i class="fas fa-chevron-right icon"></i></div>
                                    <div class="solution-content">
                                        <p>(i) \( f_x = 2x, \quad f_y = 2y \)</p>
                                        <p>(ii) Setting \(f_x = 0 \Rightarrow x=0\). Setting \(f_y = 0 \Rightarrow y=0\).</p>
                                        <p>The point is \((0,0)\), and \(f(0,0) = 0^2+0^2=0\).</p>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <!-- 4b -->
                        <li>
                            <div class="question-block">
                                <p class="question-body-text">\(f(x,y)=x^2-2x-y^2-4y-3\)</p>
                                <div class="solution-container">
                                    <div class="solution-header" onclick="toggleSolution(this)"><span>Show Solution</span><i class="fas fa-chevron-right icon"></i></div>
                                    <div class="solution-content">
                                        <p>(i) \( f_x = 2x - 2, \quad f_y = -2y - 4 \)</p>
                                        <p>(ii) Setting \(2x-2=0 \Rightarrow x=1\). Setting \(-2y-4=0 \Rightarrow y=-2\).</p>
                                        <p>The point is \((1, -2)\), and \(f(1,-2) = 1^2 - 2(1) - (-2)^2 - 4(-2) - 3 = 1 - 2 - 4 + 8 - 3 = 0\).</p>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <!-- 4c -->
                        <li>
                            <div class="question-block">
                                <p class="question-body-text">\(f(x,y)=x^2y-2xy^2+3xy+4\)</p>
                                <div class="solution-container">
                                    <div class="solution-header" onclick="toggleSolution(this)"><span>Show Solution</span><i class="fas fa-chevron-right icon"></i></div>
                                    <div class="solution-content">
                                        <p><strong>Step 1: Compute the partial derivatives</strong></p>
                                        $$ f_x = 2xy - 2y^2 + 3y $$
                                        $$ f_y = x^2 - 4xy + 3x $$
                                        <p><strong>Step 2: Set derivatives to zero and factor</strong></p>
                                        $$ y(2x - 2y + 3) = 0 \quad (1) $$
                                        $$ x(x - 4y + 3) = 0 \quad (2) $$
                                        <p><strong>Step 3: Solve the system by cases</strong></p>
                                        <p><strong>Case 1:</strong> \(y=0\). Substitute into (2): \( x(x+3)=0 \Rightarrow x=0 \) or \( x=-3 \). Gives points \((0,0)\) and \((-3,0)\).</p>
                                        <p><strong>Case 2:</strong> \(x=0\). Substitute into (1): \( y(-2y+3)=0 \Rightarrow y=0 \) or \( y=3/2 \). Gives points \((0,0)\) and \((0, 3/2)\).</p>
                                        <p><strong>Case 3:</strong> \(2x - 2y + 3 = 0\) and \(x - 4y + 3 = 0\). From the first, \(x=y-3/2\). Substitute into the second: \((y-3/2) - 4y + 3 = 0 \Rightarrow -3y + 3/2 = 0 \Rightarrow y=1/2\). Then \(x = 1/2 - 3/2 = -1\). Gives point \((-1, 1/2)\).</p>
                                        <p><strong>Step 4: List points and evaluate the function</strong></p>
                                        <ul class="list-disc pl-5">
                                            <li>At \((0,0)\), \(f(0,0)=4\)</li>
                                            <li>At \((-3,0)\), \(f(-3,0)=4\)</li>
                                            <li>At \((0, 3/2)\), \(f(0, 3/2)=4\)</li>
                                            <li>At \((-1, 1/2)\), \(f(-1, 1/2) = (1)(1/2) - 2(-1)(1/4) + 3(-1)(1/2) + 4 = 1/2 + 1/2 - 3/2 + 4 = 3.5\)</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ol>
                </li>
            </ol>
        </section>

    </div>

    <!-- Footer Section -->
    <footer class="mt-12 text-center text-gray-500 text-sm">
        <p>Icons by <a href="https://fontawesome.com/" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:text-blue-800">Font Awesome</a>, licensed under <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:text-blue-800">CC BY 4.0</a>.</p>
    </footer>

    <script>
        // Function to load external HTML content (navbar)
        async function loadNavbar() {
            try {
                const response = await fetch('../assets/navbar.html');
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const navbarHtml = await response.text();
                document.getElementById('navbar-placeholder').innerHTML = navbarHtml;
            } catch (error) {
                console.error("Failed to load navbar:", error);
            }
        }

        // Function to load the common header and set the specific page title
        async function loadHeader() {
            try {
                const response = await fetch('../assets/header.html');
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const headerHtml = await response.text();
                document.getElementById('header-placeholder').innerHTML = headerHtml;

                // Automatically derive the main title from the document's <title> tag
                const rawPageTitle = document.title;
                const titleElement = document.getElementById('page-main-title');
                if (titleElement) {
                    titleElement.textContent = rawPageTitle;
                }
            } catch (error) {
                console.error("Failed to load header:", error);
            }
        }
        
        // This function handles the expand/collapse logic for solution sections
        function toggleSolution(header) {
            const content = header.nextElementSibling;
            const icon = header.querySelector('.icon');

            header.classList.toggle('expanded');
            content.classList.toggle('expanded');
            
            // Set aria-expanded attribute for accessibility
            const isExpanded = header.classList.contains('expanded');
            header.setAttribute('aria-expanded', isExpanded);

            if (content.classList.contains('expanded')) {
                // Use a slight delay to ensure the content is visible before calculating scrollHeight
                setTimeout(() => {
                    if (typeof MathJax !== 'undefined' && MathJax.typesetPromise) {
                        MathJax.typesetPromise([content]).then(() => {
                            content.style.maxHeight = content.scrollHeight + "px";
                        });
                    } else {
                        content.style.maxHeight = content.scrollHeight + "px";
                    }
                }, 10);
            } else {
                content.style.maxHeight = null;
            }
        }
        
        // Add ARIA attributes to solution headers for better accessibility
        function setupAccessibility() {
            document.querySelectorAll('.solution-header').forEach(header => {
                header.setAttribute('role', 'button');
                header.setAttribute('tabindex', '0');
                header.setAttribute('aria-expanded', 'false');
                header.addEventListener('keydown', (event) => {
                    if (event.key === 'Enter' || event.key === ' ') {
                        event.preventDefault();
                        toggleSolution(header);
                    }
                });
            });
        }

        document.addEventListener('DOMContentLoaded', function() {
            loadNavbar().then(() => {
                loadHeader().then(() => {
                    setupAccessibility();
                    if (typeof MathJax !== 'undefined' && MathJax.typesetPromise) {
                        MathJax.typesetPromise();
                    }
                });
            });
        });
    </script>

</body>
</html>
