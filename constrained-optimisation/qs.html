<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Constrained Optimisation</title>
    <!-- Font Awesome (for icons) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Link to your shared stylesheet -->
    <link rel="stylesheet" href="../assets/styles.css">

    <!-- MathJax configuration -->
    <script type="text/javascript" src="../assets/mathjax_config.js"></script>
    <!-- MathJax library -->
    <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body class="min-h-screen flex flex-col items-center py-8 px-4 sm:px-6 lg:px-8">

    <!-- Navbar Placeholder -->
    <div id="navbar-placeholder"></div>

    <!-- Main Content Container -->
    <div class="content-container">
        <div id="header-placeholder"></div>

        <section class="mb-12">
            
            <ol>
                <!-- Question 1 -->
                <li class="mb-8">
                    <div class="question-block">
                        <p class="question-body-text">Given the function:
                            $$z=x^2+2xy+4y+10$$
                            with constraint:
                            $$x+y=100$$
                            Optimise the function \(z\) subject to the constraint by:
                        </p>
                        <ol type="a" class="list-alpha mt-2">
                            <li>Writing down the Langrangian function</li>
                            <li>Writing down the three first order conditions</li>
                            <li>Solving the first order condictions to find the optimal \(x\), \(y\), and the value of \(z\)</li>
                        </ol>
                        <div class="solution-container">
                            <div class="solution-header" onclick="toggleSolution(this)"><span>Show Solution</span><i class="fas fa-chevron-right icon"></i></div>
                            <div class="solution-content">
                                <p><strong>(a) The Lagrangian Function</strong></p>
                                $$ \mathcal{L}(x, y, \lambda) = x^2+2xy+4y+10+\lambda(100-x-y) $$
                                <p><strong>(b) First-Order Conditions (FOCs)</strong></p>
                                $$ \frac{\partial \mathcal{L}}{\partial x} = 2x+2y-\lambda=0 $$
                                $$ \frac{\partial \mathcal{L}}{\partial y} = 2x+4-\lambda=0 $$
                                $$ \frac{\partial \mathcal{L}}{\partial \lambda} = 100-x-y=0 $$
                                <p><strong>(c) Solving for Optimal Values</strong></p>
                                <p>From the first two FOCs, we can isolate \(\lambda\):</p>
                                $$ 2x+2y = \lambda $$
                                $$ 2x+4 = \lambda $$
                                <p>Setting these equal gives:</p>
                                $$ 2x+2y = 2x+4 \implies 2y=4 \implies y=2 $$
                                <p>Substitute \(y=2\) into the constraint:</p>
                                $$ x+2=100 \implies x=98 $$
                                <p>Substitute the optimal values of \(x\) and \(y\) back into the objective function \(z\):</p>
                                $$ z = (98)^2 + 2(98)(2) + 4(2) + 10 = 9604 + 392 + 8 + 10 = 10014 $$
                                <p><strong>Optimal Solution:</strong> \(x=98\), \(y=2\), \(z=10014\).</p>
                            </div>
                        </div>
                    </div>
                </li>

                <!-- Question 2 -->
                <li class="mb-8">
                    <div class="question-block">
                        <p class="question-body-text">Given the function:
                            $$z=12x+4y$$
                            with constraint:
                            $$x^{0.3}y^{0.7}=1000$$
                            Optimise the function \(z\) subject to the constraint.
                        </p>
                        <div class="solution-container">
                            <div class="solution-header" onclick="toggleSolution(this)"><span>Show Solution</span><i class="fas fa-chevron-right icon"></i></div>
                            <div class="solution-content">
                                <p>The Lagrangian is:</p>
                                $$ \mathcal{L} = 12x+4y+\lambda(1000-x^{0.3}y^{0.7}) $$
                                <p>The FOCs are:</p>
                                $$
                                \begin{align*}
                                    \frac{\partial \mathcal{L}}{\partial x} &= 12 - 0.3\lambda x^{-0.7}y^{0.7} = 0 \\
                                    \frac{\partial \mathcal{L}}{\partial y} &= 4 - 0.7\lambda x^{0.3}y^{-0.3} = 0 \\
                                    \frac{\partial \mathcal{L}}{\partial \lambda} &= 1000-x^{0.3}y^{0.7} = 0
                                \end{align*}
                                $$
                                <p>Isolating the terms with \(\lambda\) and dividing the first equation by the second:</p>
                                $$ \frac{12}{4} = \frac{0.3\lambda x^{-0.7}y^{0.7}}{0.7\lambda x^{0.3}y^{-0.3}} \implies 3 = \frac{3}{7} \frac{y}{x} $$
                                <p>Solving for \(y\):</p>
                                $$ 21x = 3y \implies y=7x $$
                                <p>Substitute into the constraint:</p>
                                $$
                                \begin{align*}
                                    x^{0.3}(7x)^{0.7} &= 1000 \\
                                    7^{0.7}x &= 1000 \\
                                    x &= \frac{1000}{7^{0.7}} \approx 256.1 \\
                                    y &= 7x \approx 1792.8 \\
                                    z &= 12(256.1) + 4(1792.8) \approx 10244
                                \end{align*}
                                $$
                                <p><strong>Optimal Solution:</strong> \(x \approx 256.1\), \(y \approx 1792.8\), \(z \approx 10244\).</p>
                            </div>
                        </div>
                    </div>
                </li>

                <!-- Question 3 -->
                <li class="mb-8">
                    <div class="question-block">
                        <p class="question-body-text">Given the function:
                            $$z=x^{0.6}y^{0.4}$$
                            with constraint:
                            $$5x+8y=120$$
                            Optimise the function \(z\) subject to the constraint.
                        </p>
                        <div class="solution-container">
                            <div class="solution-header" onclick="toggleSolution(this)"><span>Show Solution</span><i class="fas fa-chevron-right icon"></i></div>
                            <div class="solution-content">
                                <p>The Lagrangian is:</p>
                                $$ \mathcal{L} = x^{0.6}y^{0.4}+\lambda(120-5x-8y) $$
                                <p>The FOCs are:</p>
                                $$
                                \begin{align*}
                                    \frac{\partial \mathcal{L}}{\partial x} &= 0.6x^{-0.4}y^{0.4} - 5\lambda = 0 \\
                                    \frac{\partial \mathcal{L}}{\partial y} &= 0.4x^{0.6}y^{-0.6} - 8\lambda = 0 \\
                                    \frac{\partial \mathcal{L}}{\partial \lambda} &= 120-5x-8y=0
                                \end{align*}
                                $$
                                <p>Isolating the terms with \(\lambda\) and dividing gives:</p>
                                $$ \frac{0.6x^{-0.4}y^{0.4}}{0.4x^{0.6}y^{-0.6}} = \frac{5\lambda}{8\lambda} \implies \frac{3}{2}\frac{y}{x} = \frac{5}{8} $$
                                <p>Solving for \(y\):</p>
                                $$ \frac{y}{x} = \frac{5}{8} \cdot \frac{2}{3} = \frac{10}{24} = \frac{5}{12} \implies y = \frac{5}{12}x $$
                                <p>Substitute into the constraint:</p>
                                $$
                                \begin{align*}
                                    5x + 8\left(\frac{5}{12}x\right) &= 120 \\
                                    \frac{25}{3}x &= 120 \\
                                    x &= 14.4 \\
                                    y &= 6 \\
                                    z &= (14.4)^{0.6}(6)^{0.4} \approx 10.1
                                \end{align*}
                                $$
                            </div>
                        </div>
                    </div>
                </li>

                <!-- Question 4 -->
                 <li class="mb-8">
                    <div class="question-block">
                        <p class="question-body-text">A consumer has the following utility function for two goods \(x\) and \(y\):
                            $$U(x,y)=x^{0.5}y^{0.5}$$
                            The consumer has an income of 100.  The price of good \(x\) is \(p_x=2\) and the price of good \(y\) is \(p_y=4\).
                        </p>
                        <ol type="a" class="list-alpha mt-2">
                            <li>Write down the budget constraint for the consumer.</li>
                            <li>Maximise the customer's utility, subject to their budget constraint.</li>
                        </ol>
                        <div class="solution-container">
                            <div class="solution-header" onclick="toggleSolution(this)"><span>Show Solution</span><i class="fas fa-chevron-right icon"></i></div>
                            <div class="solution-content">
                               <p><strong>(a) Budget Constraint:</strong> \(2x+4y=100\)</p>
                               <p><strong>(b) Utility Maximisation</strong></p>
                               <p>The Lagrangian is:</p>
                               $$ \mathcal{L} = x^{0.5}y^{0.5} + \lambda(100 - 2x - 4y) $$
                               <p>The FOCs are:</p>
                               $$
                               \begin{align*}
                                    \frac{\partial \mathcal{L}}{\partial x} &= 0.5x^{-0.5}y^{0.5} - 2\lambda = 0 \\
                                    \frac{\partial \mathcal{L}}{\partial y} &= 0.5x^{0.5}y^{-0.5} - 4\lambda = 0 \\
                                    \frac{\partial \mathcal{L}}{\partial \lambda} &= 100-2x-4y=0
                               \end{align*}
                               $$
                               <p>Dividing the first two conditions gives the marginal rate of substitution equal to the price ratio:</p>
                               $$ \frac{0.5x^{-0.5}y^{0.5}}{0.5x^{0.5}y^{-0.5}} = \frac{2\lambda}{4\lambda} \implies \frac{y}{x} = \frac{1}{2} \implies x=2y $$
                               <p>Substitute into the budget constraint:</p>
                               $$
                               \begin{align*}
                                    2(2y) + 4y &= 100 \\
                                    8y &= 100 \\
                                    y &= 12.5 \\
                                    x &= 25 \\
                                    U &= (25)^{0.5}(12.5)^{0.5} \approx 17.7
                               \end{align*}
                               $$
                            </div>
                        </div>
                    </div>
                </li>

                 <!-- Question 5 -->
                 <li class="mb-8">
                    <div class="question-block">
                        <p class="question-body-text">The production function for output (\(Q\)), for two inputs of labour (\(L\)) and capital (\(K\)) is given by:
                            $$Q=L^{\alpha}K^{\beta}$$
                            The cost of labour is 10 and the cost of capital is 20.
                        </p>
                        <ol type="a" class="list-alpha mt-2">
                            <li>Given a production constraint of an output of 100 units, use the Langrangian method to show that minimum cost occurs when:
                                $$L=\frac{2\alpha K}{\beta}$$
                                to give:
                                $$K^*=\left( 100 \left(\frac{2\alpha}{\beta} \right)^{-\alpha} \right)^{\frac{1}{\alpha+\beta}}$$
                                $$L^*=\left( 100 \left(\frac{2\alpha}{\beta} \right)^{\beta} \right)^{\frac{1}{\alpha+\beta}}$$
                            </li>
                            <li>Find the optimal values and the minimum cost when:
                                <ol type="i" class="list-roman mt-2">
                                    <li>\(\alpha=\beta=0.5\)</li>
                                    <li>\(\alpha=0.3\), \(\beta=0.7\)</li>
                                </ol>
                            </li>
                        </ol>
                        <div class="solution-container">
                            <div class="solution-header" onclick="toggleSolution(this)"><span>Show Solution</span><i class="fas fa-chevron-right icon"></i></div>
                            <div class="solution-content">
                               <p><strong>(a) Derivations</strong></p>
                               <p>Minimize \(C=10L+20K\) subject to \(L^{\alpha}K^{\beta}=100\).</p>
                               $$ \mathcal{L} = 10L+20K+\lambda(100 - L^{\alpha}K^{\beta}) $$
                               <p>The FOCs are:</p>
                               $$
                               \begin{align*}
                                    \frac{\partial \mathcal{L}}{\partial L} &=10-\lambda \alpha L^{\alpha -1}K^{\beta}=0\\
                                    \frac{\partial \mathcal{L}}{\partial K} &=20-\lambda \beta L^{\alpha}K^{\beta -1}=0\\
                                    \frac{\partial \mathcal{L}}{\partial \lambda} &=100-L^{\alpha}K^{\beta}=0
                               \end{align*}
                               $$
                               <p>Dividing the first two conditions:</p>
                               $$ \frac{10}{20} = \frac{\lambda \alpha L^{\alpha-1}K^{\beta}}{\lambda \beta L^{\alpha}K^{\beta-1}} \implies \frac{1}{2} = \frac{\alpha K}{\beta L} \implies L = \frac{2\alpha K}{\beta} $$
                               <p>Substitute into the production constraint to find \(K^*\):</p>
                               $$
                               \begin{align*}
                                    \left( \frac{2 \alpha K}{\beta} \right )^{\alpha}K^{\beta} &= 100\\
                                    \left( \frac{2 \alpha}{\beta} \right )^{\alpha}K^{\alpha + \beta}&=100\\
                                    K=K^*&=\left( 100 \left(\frac{2\alpha}{\beta} \right)^{-\alpha} \right)^{\frac{1}{\alpha+\beta}}
                               \end{align*}
                               $$
                               <p>Substitute \(K^*\) into the expression for \(L\) to find \(L^*\):</p>
                               $$
                               \begin{align*}
                                    L &= \frac{2\alpha}{\beta} K^* = \left(\frac{2\alpha}{\beta}\right) \left( 100 \left(\frac{2\alpha}{\beta} \right)^{-\alpha} \right)^{\frac{1}{\alpha+\beta}} \\
                                    L=L^*&=\left( 100 \left(\frac{2\alpha}{\beta} \right)^{\beta} \right)^{\frac{1}{\alpha+\beta}}
                               \end{align*}
                               $$
                               <p><strong>(b) Finding Optimal Values</strong></p>
                               <p>(i) Case \(\alpha=0.5, \beta=0.5\):</p>
                               $$
                               \begin{align*}
                                K^*&=\left ( 100 \left (\frac{2 \times 0.5}{0.5} \right )^{-0.5} \right )^1 \approx 70.7\\
                                L^*&=\left ( 100 \left (\frac{2 \times 0.5}{0.5} \right )^{0.5} \right )^1 \approx 141.4\\
                                C^* &=10(141.4) + 20(70.7) = 2828
                               \end{align*}
                               $$
                               <p>(ii) Case \(\alpha=0.3, \beta=0.7\):</p>
                               $$
                               \begin{align*}
                                    K^*&\approx104.7\\
                                    L^*&\approx89.8\\
                                    C^*&=2992
                               \end{align*}
                               $$
                            </div>
                        </div>
                    </div>
                </li>

                 <!-- Question 6 -->
                <li class="mb-8">
                    <div class="question-block">
                        <p class="question-body-text">A single good is produced by a monopoly. The demand function for price (\(P\)) from quantity (\(Q\)) for this good is given by:
                            $$P=50-Q$$
                            The cost function for the company producing the good is given by:
                            $$C=10+2Q$$
                            Find the maximum profit, \(\Pi\), and the values of \(P\) and \(Q\) that give this profit, subject to the constraint of the demand function.
                        </p>
                        <div class="solution-container">
                            <div class="solution-header" onclick="toggleSolution(this)"><span>Show Solution</span><i class="fas fa-chevron-right icon"></i></div>
                            <div class="solution-content">
                               <p>The objective is to maximise profit \(\Pi = PQ - C\).</p>
                               $$ \Pi=PQ-(10+2Q)=PQ-10-2Q $$
                               <p>The Lagrangian is:</p>
                               $$ \mathcal{L}=PQ-10-2Q+\lambda (50-Q-P) $$
                               <p>The FOCs are:</p>
                               $$
                               \begin{align*}
                                    \frac{\partial \mathcal{L}}{\partial P} &=Q-\lambda=0\\
                                    \frac{\partial \mathcal{L}}{\partial Q} &=P-2-\lambda=0\\
                                    \frac{\partial \mathcal{L}}{\partial \lambda} &=50-Q-P=0
                               \end{align*}
                               $$
                               <p>From the first two FOCs, we get \(Q = P-2\).</p>
                               <p>Substitute into the constraint and solve:</p>
                               $$
                               \begin{align*}
                                    P&=50-(P-2)\\
                                    2P&=52\\
                                    P&=26\\
                                    Q&=24\\
                                    \Pi&=(26)(24) - (10 + 2(24)) = 624 - 58 = 566
                               \end{align*}
                               $$
                            </div>
                        </div>
                    </div>
                </li>

            </ol>
        </section>

    </div>

    <!-- Footer Section -->
    <footer class="mt-12 text-center text-gray-500 text-sm">
        <p>Icons by <a href="https://fontawesome.com/" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:text-blue-800">Font Awesome</a>, licensed under <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:text-blue-800">CC BY 4.0</a>.</p>
    </footer>

    <script>
        // Function to load external HTML content (navbar)
        async function loadNavbar() {
            try {
                const response = await fetch('../assets/navbar.html');
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const navbarHtml = await response.text();
                document.getElementById('navbar-placeholder').innerHTML = navbarHtml;
            } catch (error) {
                console.error("Failed to load navbar:", error);
            }
        }

        // Function to load the common header and set the specific page title
        async function loadHeader() {
            try {
                const response = await fetch('../assets/header.html');
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const headerHtml = await response.text();
                document.getElementById('header-placeholder').innerHTML = headerHtml;

                // Automatically derive the main title from the document's <title> tag
                const rawPageTitle = document.title;
                const titleElement = document.getElementById('page-main-title');
                if (titleElement) {
                    titleElement.textContent = rawPageTitle;
                }
            } catch (error) {
                console.error("Failed to load header:", error);
            }
        }
        
        // This function handles the expand/collapse logic for solution sections
        function toggleSolution(header) {
            const content = header.nextElementSibling;
            const icon = header.querySelector('.icon');

            header.classList.toggle('expanded');
            content.classList.toggle('expanded');
            
            // Set aria-expanded attribute for accessibility
            const isExpanded = header.classList.contains('expanded');
            header.setAttribute('aria-expanded', isExpanded);

            if (content.classList.contains('expanded')) {
                // Use a slight delay to ensure the content is visible before calculating scrollHeight
                setTimeout(() => {
                    if (typeof MathJax !== 'undefined' && MathJax.typesetPromise) {
                        MathJax.typesetPromise([content]).then(() => {
                            content.style.maxHeight = content.scrollHeight + "px";
                        });
                    } else {
                        content.style.maxHeight = content.scrollHeight + "px";
                    }
                }, 10);
            } else {
                content.style.maxHeight = null;
            }
        }
        
        // Add ARIA attributes to solution headers for better accessibility
        function setupAccessibility() {
            document.querySelectorAll('.solution-header').forEach(header => {
                header.setAttribute('role', 'button');
                header.setAttribute('tabindex', '0');
                header.setAttribute('aria-expanded', 'false');
                header.addEventListener('keydown', (event) => {
                    if (event.key === 'Enter' || event.key === ' ') {
                        event.preventDefault();
                        toggleSolution(header);
                    }
                });
            });
        }

        document.addEventListener('DOMContentLoaded', function() {
            loadNavbar().then(() => {
                loadHeader().then(() => {
                    setupAccessibility();
                    if (typeof MathJax !== 'undefined' && MathJax.typesetPromise) {
                        MathJax.typesetPromise();
                    }
                });
            });
        });
    </script>

</body>
</html>
